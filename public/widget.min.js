!function(){"use strict";const n=Object.assign({},{position:"bottom-right",primaryColor:"#2A65F9",title:"Suporte Kirvano",subtitle:"Como podemos ajudar?",language:"pt-BR"},window.KirvanoChat||{});if(!n.appId)return void console.error("KirvanoChat: appId é obrigatório");const e=document.createElement("div");e.id="kirvano-chat-container",e.style.cssText=`\n    position: fixed;\n    ${n.position.includes("right")?"right: 20px":"left: 20px"};\n    ${n.position.includes("bottom")?"bottom: 20px":"top: 20px"};\n    z-index: 99999;\n  `;const o=document.createElement("style");o.textContent=`\n    #kirvano-chat-container * {\n      box-sizing: border-box;\n      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;\n    }\n    \n    #kirvano-chat-iframe {\n      border: none;\n      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12);\n      border-radius: 12px;\n      transition: all 0.3s ease;\n      background: white;\n    }\n    \n    #kirvano-chat-bubble {\n      width: 60px;\n      height: 60px;\n      border-radius: 50%;\n      background: ${n.primaryColor};\n      color: white;\n      border: none;\n      cursor: pointer;\n      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      transition: transform 0.2s;\n    }\n    \n    #kirvano-chat-bubble:hover {\n      transform: scale(1.1);\n    }\n    \n    #kirvano-chat-bubble svg {\n      width: 28px;\n      height: 28px;\n      fill: white;\n    }\n  `,document.head.appendChild(o);let t=!1,i=null;const a=document.createElement("button");a.id="kirvano-chat-bubble",a.innerHTML='\n    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path d="M12 2C6.48 2 2 6.48 2 12C2 13.85 2.51 15.55 3.39 17L2 22L7.01 20.61C8.35 21.41 9.91 21.88 11.58 21.97C11.72 21.99 11.86 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM16.5 16.5C16.5 16.5 14.47 14.47 14.47 14.47C13.47 14.97 12.31 15.16 11.18 14.97C10.05 14.78 9.03 14.23 8.25 13.41C7.47 12.59 6.98 11.54 6.85 10.41C6.72 9.28 6.96 8.14 7.53 7.16L5.5 5.5C5.5 5.5 7.53 7.53 7.53 7.53C8.16 7 8.95 6.69 9.77 6.64C10.59 6.59 11.41 6.81 12.11 7.26C12.81 7.71 13.35 8.36 13.67 9.13C13.99 9.9 14.07 10.75 13.9 11.57C13.73 12.39 13.32 13.14 12.73 13.73C12.14 14.32 11.39 14.73 10.57 14.9C9.75 15.07 8.9 14.99 8.13 14.67C7.36 14.35 6.71 13.81 6.26 13.11C5.81 12.41 5.59 11.59 5.64 10.77C5.69 9.95 6 9.16 6.53 8.53L4.5 6.5C4.5 6.5 6.53 8.53 6.53 8.53" fill="white"/>\n    </svg>\n  ',a.onclick=function(){t=!t,i||(i=document.createElement("iframe"),i.id="kirvano-chat-iframe",i.src=`${window.location.protocol}//${window.location.host}/chat/embed?appId=${n.appId}&config=${encodeURIComponent(JSON.stringify(n))}`,i.style.cssText=`\n      width: 380px;\n      height: 600px;\n      max-height: calc(100vh - 100px);\n      display: ${t?"block":"none"};\n    `,i.onload=function(){i.contentWindow.postMessage({type:"KIRVANO_CONFIG",config:n},"*")},e.appendChild(i)),a.style.display=t?"none":"flex",i&&(i.style.display=t?"block":"none"),n.onOpen&&t?n.onOpen():n.onClose&&!t&&n.onClose()},e.appendChild(a),document.body.appendChild(e),window.addEventListener("message",(function(e){if(e.origin!==window.location.origin)return;const o=e.data;switch(o.type){case"KIRVANO_CLOSE":t=!1,a.style.display="flex",i&&(i.style.display="none"),n.onClose&&n.onClose();break;case"KIRVANO_MESSAGE":n.onMessage&&n.onMessage(o.message);break;case"KIRVANO_RESIZE":i&&o.height&&(i.style.height=o.height+"px")}})),n.onLoad&&n.onLoad(),window.KirvanoChatAPI={open:function(){t||a.click()},close:function(){t&&a.click()},sendMessage:function(n){i&&i.contentWindow.postMessage({type:"KIRVANO_SEND_MESSAGE",message:n},"*")}}}();